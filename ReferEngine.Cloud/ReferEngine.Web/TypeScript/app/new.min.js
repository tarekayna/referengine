define(["require","exports","../lib/SinglePage"],function(n,t,i){var r=i;n(["../lib/knockout"],function(n){var t={},i,u;t.AppSearchTerm=n.observable(""),t.AppSearchTermComputed=n.computed(function(){return t.AppSearchTerm()}).extend({throttle:300}),t.AppSearchResults=n.observableArray(),t.SelectedApp=n.observable(),t.onClickAppRow=function(n){t.SelectedApp(n),r.goToStep("app-verify")},t.onClickMyApp=function(){$.ajax("../app/AddNewApp",{type:"POST",data:{msAppId:t.SelectedApp().MsAppId},dataType:"json",error:function(){},success:function(){}})},i=function(n){t.AppSearchResults(n)},u=function(){},t.AppSearchTermComputed.subscribe(function(n){n&&n!==""?$.ajax("../app/SearchForApp",{type:"POST",data:{name:t.AppSearchTerm(),platform:"windows"},dataType:"json",error:u,success:i}):t.AppSearchResults([])});r.on("app-search","afterShow",function(){$("#refine-app-name").focus()},!1);r.on("app-verify","beforeShow",function(){$(".btn.back-to-search").click(function(){r.goToStep("app-search")})},!0);$(document).ready(function(){n.applyBindings(t),r.start("app-search")})})})