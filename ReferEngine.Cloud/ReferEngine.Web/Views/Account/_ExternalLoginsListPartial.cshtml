@model ICollection<AuthenticationClientData>

@{
    ViewProperties viewProperties = ((ViewProperties)ViewData["ViewProperties"]);
    if (Model.Count == 0)
    {
        throw new InvalidOperationException();
    }
}

@using (Html.BeginForm("ExternalLogin", "Account", new { viewProperties.ReturnUrl }))
{
    @Html.AntiForgeryToken()
    foreach (AuthenticationClientData provider in Model)
    {
        <button type="submit" class="provider-btn" name="provider" value="@provider.AuthenticationClient.ProviderName" 
            title="Log in using your @provider.DisplayName account" >
            <img src="@provider.ExtraData["Icon"]" alt="Icon for @provider.DisplayName" />
            <h3>Connect using @provider.DisplayName</h3>
        </button>
    }
}
