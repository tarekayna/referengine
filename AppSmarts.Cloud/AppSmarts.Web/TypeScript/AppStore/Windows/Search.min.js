define(["require","exports","../../common/notifications"],function(n,t,i){var u=i,r,f=function(){function n(){this.Apps=r.observableArray(),this.SearchTerm=r.observable(),this.SearchCompleted=r.observable(!1)}return n}(),e=function(){function n(){}return n.isInitialized=!1,n.init=function(){n.isInitialized||(n.viewModel=new f,r.applyBindings(n.viewModel),n.GetApps(re.SearchTerm,re.CategoryName,re.ParentCategoryName,re.PageNumber,re.NumberOfApps),n.isInitialized=!0)},n.onGetAppsSuccess=function(t){n.isInitialized||n.init(),n.viewModel.Apps.removeAll();for(var i=0;i<t.length;i++)n.viewModel.Apps.push(t[i]);n.viewModel.SearchCompleted(!0)},n.onGetAppsError=function(){n.viewModel.SearchCompleted(!0),u.show("Error: could not retreive apps",u.NotificationType.error)},n.GetApps=function(t,i,r,u,f){n.viewModel.SearchTerm(t),$.ajax("/app-store/windows/a/getapps",{type:"POST",data:{searchTerm:t,category:i,parentCategory:r,page:u,numberOfApps:f},dataType:"json",error:n.onGetAppsError,success:n.onGetAppsSuccess})},n}();n(["../../lib/knockout","../../lib/date","../../lib/daterangepicker"],function(n){r=n,$(document).ready(e.init)})})